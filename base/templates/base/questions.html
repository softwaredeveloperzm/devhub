{% extends 'users/base.html' %}

{% block content %}


<div class="container mt-4">
    <!-- Search Bar -->
    <form action="/" method="GET" class="mb-3">
        <div class="input-group">
            <input id="q" name="q" value="{{ request.GET.q }}" type="search" class="form-control" placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
            <div class="input-group-append">
                <button type="submit" class="btn btn-outline-primary">Search</button>
            </div>
        </div>
    </form>
    <!-- Four Buttons Section -->
    <div class="mb-3">
        <a href="{% url 'ask' %}" class="btn btn-primary mr-2">Ask a Question</a>

        <button type="button" class="btn btn-secondary mr-2">Button 2</button>
        <button type="button" class="btn btn-success mr-2">Button 3</button>
        <button type="button" class="btn btn-danger">Button 4</button>
    </div
    
    <h2 class="mt-3">Questions</h2>

    <table class="table table-bordered table-hover mt-2">
        <thead>
            <tr>
                <th scope="col" style="background-color: #013328; color: white;">Total Questions:  {{ total_questions}} </th>
                
            </tr>
        </thead>
        <tbody>
            {% for question in questions %}
                <tr>
                    
                    <td>
                        <a href="{% url 'question_detail' slug=question.slug %}" style="color: blue; text-decoration: none;">{{ question.title }}</a>

                        <div class="question-description">{{ question.content | truncatewords_html:20 | safe }}</div>
                        
                        <div class="question-meta mt-3">
                            <span class="mr-3" style="margin-left: 10px;">
                                {{ question.user.first_name|default:"" | slice:":question.user.first_name.find(' ')"}}
                            </span>|
                            <span class="ml-3 mr-3">
                                <i class="fa fa-calendar" style="margin-left: 10px;"></i>   {{ question.date_created|timesince }} ago
                            </span>|
                            <span class="ml-3" style="margin-left: 10px;">
                                <i class="fa fa-eye"></i> {{question.views_count }}
                            </span>
                        </div>
                        <div class="line-separator mt-3"></div>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>



<!-- Bootstrap Pagination links -->
<nav aria-label="Page navigation example" class="mt-3">
    <ul class="pagination justify-content-center">
        <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1">Previous</a>
        </li>
        <li class="page-item"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item">
            <a class="page-link" href="#">Next</a>
        </li>
    </ul>
</nav>
{% endblock %}
